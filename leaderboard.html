<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoFiStudy</title>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="glow.css">
    <link rel="stylesheet" href="mainpage.css">
    <style>
        canvas{
            min-height: 200px;
        }
    </style>
</head>


<body>
    <!--NAVBAR-->
    <nav class="navbar navbar-expand-lg  bg-dark">
            
        <!-- <img src="images/possiblegif1.gif" alt="" id="possiblegif1"> -->
        <div class="container-fluid">
            <button class="navbar-toggler bg-dark navbar-dark"  type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
        </div>
            
        
        
        
        
            <div class="collapse navbar-collapse  " id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                <img src="gifs/gif1.gif" id="gif_now" style="margin-top: 7px; height:50px; width: 150px">
                </li>
                <li class="nav-item">
                <!-- <a class="nav-link active text-light" aria-current="page" href="#">Home</a> -->
                <button  class="glow-on-hover" style="margin: 5px;">
                    <a class="nav-link  text-light" aria-current="page" href="./index.html">Home</a>
                </button>
                </li>
                <li class="nav-item">
                <!-- <a class="nav-link text-light" aria-current="page" href="#">Add Friends</a> -->
                <button  class="glow-on-hover" style="margin: 5px;">
                    <a class="nav-link text-light" aria-current="page" href="./friendtemplate_pre.html">Add Friends</a>
                </button>
                </li>
                <li class="nav-item">
                <!-- <a class="nav-link text-light" aria-current="page" href="#">LeaderBoard</a> -->
                <button  class="glow-on-hover" style="margin: 5px;">
                    <a class="nav-link text-light" aria-current="page" href="leaderboard.html">LeaderBoard</a>
                </button>
                
                </li>
                <li><button id="auth" class="glow-on-hover" style="margin: 5px;">Connect to Spotify</button></li>

                <li id="logoutlist"><button id="logout" class="glow-on-hover" style="margin: 5px;">Logout</button></li>
            </ul>
            <script src="js/Spotify api/playback_controls.js"></script>  
            </div>
        
        
        </div>
    </nav>
    <!--CONTENT-->
    <div class="container-fluid bg-light">
        <div class="row d-flex justify-content-evenly">
            <!--time/7days chart-->
            <div class="bg-dark col-lg-4 col-md-6 col-sm-12 ">
                <canvas id="myChart" class=" border border-secondary"></canvas>
            </div>
            <!--average time spent/day-->
            <div class="bg-dark col-lg-4 col-md-6 col-sm-12  fs-1 text-light text-center">
                <p id="average_time" class=""></p>
                <p class="">Average Time per day</p>
            </div>
            <!--friend's scores chart-->
            <div class="bg-dark col-lg-4 col-md-6 col-sm-12 ">
                <canvas id="myChart2" class=" border border-secondary"></canvas>
            </div>
            <!--friend's scores ranked table-->
            <div class="bg-dark col-lg-12 col-md-6 col-sm-12 ">
                <table class="table table-dark">
                    <thead>
                        <tr class="table-dark">
                            <th class="table-dark">Rank</th>
                            <th class="table-dark">Friends</th>
                            <th class="table-dark">Study Minutes</th>
                        </tr>
                    </thead>
                    <tbody class="table-dark" id="table_data">

                    </tbody>
                </table>
            </div>

            


        </div>
       
    </div>
    
    






<!-- 
<script>
    
    const vm = Vue.createApp({
        data() {
            return {

                // retrieve from database 
                
                series: [
                    {name: 'Me', study: 110, profile: ""},
                    {name: 'Jessica', study: 90, profile: ""},
                    {name: 'Chaeyoung', study: 100, profile: ""},
                    {name: 'Sunny', study: 45, profile: ""},
                    {name: 'Lisa', study:80, profile: ""},
                ],
                series2: [
                    {name: 'Me', study: 110, profile: ""},
                    {name: 'Jessica', study: 90, profile: ""},
                    {name: 'Chaeyoung', study: 100, profile: ""},
                    {name: 'Sunny', study: 45, profile: ""},
                    {name: 'Lisa', study:80, profile: ""},
                ],
                friendname:""
            }
        },
        methods: { 
            
            addfriend() { 
                var notification = document.getElementById("notification");
                    if( notification ) {
                        notification.remove();
                    }
                if (this.friendname==""){
                    var main_container_div = document.getElementById("warningbox");
                    var div = document.createElement("div");
                    var text = document.createTextNode("You can skip for now if you don't have anyone in mind :)");
                    div.appendChild(text);
                    div.setAttribute("id", "notification");
                    div.setAttribute("class", "alert alert-info");
                    div.setAttribute("role", "alert");
                    div.setAttribute("style", "margin-top: 20px")
                    main_container_div.appendChild(div);
                    return 
                }
                else{
                // study_time is a placeholder of number to be retrieved from database
                study_time=Math.floor(Math.random() * 100);
                new_friend=this.friendname;
                console.log(localStorage.getItem("uid"));
                this.friendname="";
                return this.series.push({ name: new_friend , study: study_time, profile:""});
                }
            },
            
        
        async created(){
            this.series = await display_stats(localStorage.getItem("uid"));
            }
          
        }
    }

    ).mount('#app1')
</script> -->

<script type="module" src="js/leaderboard.js">//loads charts for friends' totaltime and past scores</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
<!-- 
<table class="table" border='1'>
    <thead>
        <tr>
            <th scope="col">Friends</th>
            <th scope="col">Study Minutes</th>
        </tr>
    </thead>
    <tbody>
        <tr v-for="friend in series2"> 
            <td>{{friend.name}}</td> 
            <td>{{friend.study}} minutes</td>  
        <!-- </tr>   
    </tbody>
</table> -->
